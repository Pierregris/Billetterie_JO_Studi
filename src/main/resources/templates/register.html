<!doctype html>
<html lang="fr">

<head th:fragment="scriptImport(pageTitle)">

  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">

  <meta name="_csrf" th:content="${_csrf.token}">
  <meta name="_csrf_header" th:content="${_csrf.headerName}">

  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/css/bootstrap.min.css" rel="stylesheet"
    integrity="sha384-GLhlTQ8iRABdZLl6O3oVMWSktQOp6b7In1Zl3/Jr59b6EGGoI1aFkw7cmDA6j6gD" crossorigin="anonymous">
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/js/bootstrap.bundle.min.js"
    integrity="sha384-w76AqPfDkMBDXo30jS1Sgez6pr3x5MlQ1ZAGC+nuZB+EYdgRZgiwxhTBTkF7CXvN" crossorigin="anonymous"
    defer></script>



  <link rel="stylesheet" th:href="@{/style/style.css}">

  <title>Inscription utilisateur</title>
</head>

<body class="login-register">
  <div th:replace="fragments/header::header "></div>
  <main>
    <div class="formulaire">
      <div class="text-center">
        <h3>JE M'INSCRIS</h3>
      </div>
      <form method="post" th:action="@{/register}" th:object="${utilisateur}">
        <div th:if="${messageErreurDoublon}" class="alert alert-warning">
          <span th:text="${messageErreurDoublon}"></span>
          <a th:href="@{/login}" class="alert-link">Connexion</a>
        </div>
        <div class="row">
          <div class="form-group col-6">
            <input class="form-control" type="text" th:field="*{nom}" placeholder="Nom" required>
          </div>
          <div class="form-group col-6">
            <input class="form-control" type="text" th:field="*{prenom}" placeholder="Prénom" required>
          </div>
        </div>
        <div class="row">
          <div class="form-group col-8">
            <input class="form-control" type="email" th:field="*{mail}" placeholder="adresse@mail.fr"
              pattern="[A-Za-z0-9._%+\-]+@[A-Za-z0-9.\-]+\.[a-z]{2,}$" required>
          </div>
          <div class="form-group col-4">
            <input class="form-control" type="tel" th:field="*{numeroTelephone}" placeholder="Téléphone"
              pattern="[0-9]{10}" required>
          </div>
        </div>
        <div class="form-group">
          <input class="form-control" type="password" th:field="*{password}" placeholder="Mot de passe"
            pattern="(?=.*[A-Z])(?=.*[0-9]).{8,}" required
            oninvalid="this.setCustomValidity('Le mot de passe doit contenir au moins 10 caratères, un caractère spécial et une majuscule')">
        </div>

        <div class="form-group">
          <input class="form-control" type="text" th:field="*{adresse}" placeholder="Numéro et nom de rue" required>
        </div>
        <div class="row">
          <div class="form-group col-5">
            <input class="form-control" type="text" th:field="*{codePostal}" placeholder="Code postal" required>
          </div>
          <div class="form-group col-7">
            <input class="form-control" type="text" th:field="*{ville}" placeholder="Ville" required>
          </div>
        </div>
        <div class="text-center">
          <input class="btn btn-success rounded-pill" type="submit" value="Je m'inscris">
        </div>
    </div>

    </form>
    </div>
  </main>
  <div th:replace="fragments/footer::footer "></div>
</body>

</html>